# Langfuse Local Development Environment
# Copy this file to .env and generate secure credentials

# NextAuth Configuration
NEXTAUTH_URL=http://localhost:3001
NEXTAUTH_SECRET=  # Generate with: openssl rand -base64 32

# Security
SALT=  # Generate with: openssl rand -base64 24
ENCRYPTION_KEY=  # Generate with: openssl rand -hex 32

# PostgreSQL Database
DATABASE_URL=postgresql://postgres:CHANGE_ME@postgres:5432/postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=  # Generate with: openssl rand -hex 16
POSTGRES_DB=postgres
POSTGRES_VERSION=17

# ClickHouse
CLICKHOUSE_MIGRATION_URL=clickhouse://clickhouse:9000
CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_USER=clickhouse
CLICKHOUSE_PASSWORD=  # Generate with: openssl rand -hex 16
CLICKHOUSE_CLUSTER_ENABLED=false

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_AUTH=  # Generate with: openssl rand -hex 16
REDIS_TLS_ENABLED=false

# Garage S3 Storage - Event Upload (internal worker endpoint)
LANGFUSE_S3_EVENT_UPLOAD_BUCKET=langfuse
LANGFUSE_S3_EVENT_UPLOAD_REGION=garage
LANGFUSE_S3_EVENT_UPLOAD_ACCESS_KEY_ID=  # Generated by init-garage.sh
LANGFUSE_S3_EVENT_UPLOAD_SECRET_ACCESS_KEY=  # Generated by init-garage.sh
LANGFUSE_S3_EVENT_UPLOAD_ENDPOINT=http://garage:3900
LANGFUSE_S3_EVENT_UPLOAD_FORCE_PATH_STYLE=true
LANGFUSE_S3_EVENT_UPLOAD_PREFIX=events/

# Garage S3 Storage - Media Upload (internal worker endpoint)
LANGFUSE_S3_MEDIA_UPLOAD_BUCKET=langfuse
LANGFUSE_S3_MEDIA_UPLOAD_REGION=garage
LANGFUSE_S3_MEDIA_UPLOAD_ACCESS_KEY_ID=  # Generated by init-garage.sh
LANGFUSE_S3_MEDIA_UPLOAD_SECRET_ACCESS_KEY=  # Generated by init-garage.sh
LANGFUSE_S3_MEDIA_UPLOAD_ENDPOINT=http://garage:3900
LANGFUSE_S3_MEDIA_UPLOAD_ENDPOINT_WEB=http://localhost:3900
LANGFUSE_S3_MEDIA_UPLOAD_FORCE_PATH_STYLE=true
LANGFUSE_S3_MEDIA_UPLOAD_PREFIX=media/

# Garage S3 Storage - Batch Export
LANGFUSE_S3_BATCH_EXPORT_ENABLED=false
LANGFUSE_S3_BATCH_EXPORT_BUCKET=langfuse
LANGFUSE_S3_BATCH_EXPORT_PREFIX=exports/
LANGFUSE_S3_BATCH_EXPORT_REGION=garage
LANGFUSE_S3_BATCH_EXPORT_ENDPOINT=http://garage:3900
LANGFUSE_S3_BATCH_EXPORT_EXTERNAL_ENDPOINT=http://localhost:3900
LANGFUSE_S3_BATCH_EXPORT_ACCESS_KEY_ID=  # Generated by init-garage.sh
LANGFUSE_S3_BATCH_EXPORT_SECRET_ACCESS_KEY=  # Generated by init-garage.sh
LANGFUSE_S3_BATCH_EXPORT_FORCE_PATH_STYLE=true

# Langfuse Settings
TELEMETRY_ENABLED=true
LANGFUSE_ENABLE_EXPERIMENTAL_FEATURES=true
LANGFUSE_USE_AZURE_BLOB=false

# Garage Settings
GARAGE_RUST_LOG=garage=info

# Optional: Email Configuration (leave empty for local development)
EMAIL_FROM_ADDRESS=
SMTP_CONNECTION_URL=

# Auto-initialize organization, project, and user (no browser setup required!)
LANGFUSE_INIT_ORG_ID=dev-org
LANGFUSE_INIT_ORG_NAME=Development Organization
LANGFUSE_INIT_PROJECT_ID=dev-project
LANGFUSE_INIT_PROJECT_NAME=Development Project
LANGFUSE_INIT_PROJECT_PUBLIC_KEY=  # Generate with: echo "pk-lf-$(openssl rand -hex 16)"
LANGFUSE_INIT_PROJECT_SECRET_KEY=  # Generate with: echo "sk-lf-$(openssl rand -hex 16)"
LANGFUSE_INIT_USER_EMAIL=admin@example.com
LANGFUSE_INIT_USER_NAME=Admin User
LANGFUSE_INIT_USER_PASSWORD=  # Generate with: openssl rand -base64 24
